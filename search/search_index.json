{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Welcome to the User Manual for Tool 4 This Tool is part of a suite of genome analysis tools that explore bacterial genomes. The suite includes: Application Description The Core Genome assembly, taxonomic classification, phylogeny, annotation and mass screening. Tool 1 Mass screening with curated databases. Tool 2 Mass screening with genes you choose. Tool 3 Comparison of genomes, and phylogeny. Tool 4 Primer design: identification of unique stretches of DNA. They are built with the pipeline manager Nextflow , and operate within Singularity containers. The suite was developed as part of a collaborative project between Volac International Ltd . and Cardiff University , partly funded by Innovate UK as part of a knowledge transfer partnership (KTP) . What is Tool 4 for? Tool 4 identifies stretches of genome that are unique to a particular isolate. The stretches are not found in any reference genome nor any genome of the other isolates submitted to the same run. These isolate-specific sequences can then be used for isolate-specific primer design. What does Tool 4 do? Tool 4 operates by first identifying open reading frames (ORFs) in the query genome, then in a substractive step any ORFs with significant identity to a background database are removed, and finally the 10 longest ORFs are published. The background database consists of the ORFs of all other isolates submitted to the same run, as well as a comprehensive library of lactic acid bacteria genomes. The reference library comprises genomes downloaded from the RefSeq database; genome assemblies with the highest specifications are included. The reference genome database is generated by maxThree_tool4.py . Information about the reference library and it's maintenance can be found here .","title":"Introduction"},{"location":"index.html#welcome-to-the-user-manual-for-tool-4","text":"This Tool is part of a suite of genome analysis tools that explore bacterial genomes. The suite includes: Application Description The Core Genome assembly, taxonomic classification, phylogeny, annotation and mass screening. Tool 1 Mass screening with curated databases. Tool 2 Mass screening with genes you choose. Tool 3 Comparison of genomes, and phylogeny. Tool 4 Primer design: identification of unique stretches of DNA. They are built with the pipeline manager Nextflow , and operate within Singularity containers. The suite was developed as part of a collaborative project between Volac International Ltd . and Cardiff University , partly funded by Innovate UK as part of a knowledge transfer partnership (KTP) .","title":"Welcome to the User Manual for Tool 4"},{"location":"index.html#what-is-tool-4-for","text":"Tool 4 identifies stretches of genome that are unique to a particular isolate. The stretches are not found in any reference genome nor any genome of the other isolates submitted to the same run. These isolate-specific sequences can then be used for isolate-specific primer design.","title":"What is Tool 4 for?"},{"location":"index.html#what-does-tool-4-do","text":"Tool 4 operates by first identifying open reading frames (ORFs) in the query genome, then in a substractive step any ORFs with significant identity to a background database are removed, and finally the 10 longest ORFs are published. The background database consists of the ORFs of all other isolates submitted to the same run, as well as a comprehensive library of lactic acid bacteria genomes. The reference library comprises genomes downloaded from the RefSeq database; genome assemblies with the highest specifications are included. The reference genome database is generated by maxThree_tool4.py . Information about the reference library and it's maintenance can be found here .","title":"What does Tool 4 do?"},{"location":"access.html","text":"Logging in Connect your local computer to the server. MobaXterm , the enhanced terminal for Windows is recommended. Folders can be found in the side bar to the left. Folders and files can be directly dragged and dropped between your personal computer and the Tool. This Tool is located inside the genome_store folder. Opening a stable connection (recommended) You currently have access to the Tool if you have completed the above section. However, sometimes the network connection between the computer that you are using and the machine where the Tool is located can break. If the Tool is running when the connection breaks, even if the break is only brief, the Tool will stop. You can tell if this has happen because your terminal\u2019s window will freeze; there may also be a partially populated output folder. A terminal multiplexer (tmux) solves this. A terminal multiplexer allows the user to start a session and then detach, so a remote process continues running even when the user is disconnected. It also has the benefit of allowing the user to detach from one computer and reattach using a different computer. To initiate a tmux session in the Appliance terminal window enter: tmux new -s <name> Example This is the code to set up a stable tmux connection named Idris: tmux new -s Idris Tip You can set up multiple tmux sessions; give each one a different name. To detach from a session hold down the Ctrl key and press b , release both keys, then press d . To list existing tmux sessions use tmux ls . To reconnect to an existing session use tmux a -t <name> .","title":"Accessing the server"},{"location":"access.html#logging-in","text":"Connect your local computer to the server. MobaXterm , the enhanced terminal for Windows is recommended. Folders can be found in the side bar to the left. Folders and files can be directly dragged and dropped between your personal computer and the Tool. This Tool is located inside the genome_store folder.","title":"Logging in"},{"location":"access.html#opening-a-stable-connection-recommended","text":"You currently have access to the Tool if you have completed the above section. However, sometimes the network connection between the computer that you are using and the machine where the Tool is located can break. If the Tool is running when the connection breaks, even if the break is only brief, the Tool will stop. You can tell if this has happen because your terminal\u2019s window will freeze; there may also be a partially populated output folder. A terminal multiplexer (tmux) solves this. A terminal multiplexer allows the user to start a session and then detach, so a remote process continues running even when the user is disconnected. It also has the benefit of allowing the user to detach from one computer and reattach using a different computer. To initiate a tmux session in the Appliance terminal window enter: tmux new -s <name> Example This is the code to set up a stable tmux connection named Idris: tmux new -s Idris Tip You can set up multiple tmux sessions; give each one a different name. To detach from a session hold down the Ctrl key and press b , release both keys, then press d . To list existing tmux sessions use tmux ls . To reconnect to an existing session use tmux a -t <name> .","title":"Opening a stable connection (recommended)"},{"location":"faq.html","text":"Frequently asked questions Description of the output files: The output files are named *.candidate_unique.fa . Where * is the isolate\u2019s \u2018friendlyName\u2019, originally defined in the Core index file. There is one file per isolate, subject to identification of unique stretches. If no unique ORFs re identified then no output file will be returned. The contents of the output files will be in fasta format as follows: >contig ID of longest unique ORF DNA sequence >contig ID of second longest unique ORF DNA sequence ... >contig ID of tenth longest unique ORF DNA sequence What are the different folders for? The Tool 4 file system contains the following folders: Directory name Description of contents input_tool4 All assemblies ( *.fasta ) in this directory will be tested by tool_4. output_tool4 Your output data will be deposited here in subdirectories named YYYY-MM-DD_HH:MM . work The Nextflow working directory. How do you run Tool 4? Running Tool 4 is straight-forward. Briefly, once you have accessed Tool 4 and placed the assemblies you wish to test into the input folder all you need to do is enter a single command and the results will be deposited in the output folder. You can use these to design primers. How do you view the output files? You can open the files in any text editor. Can I change the settings of Tool 4? Yes, you can modify the two different settings: identity and eValue . Using the default settings there must be a minimum DNA identity of 80%, and a minimum DNA coverage of 80% for a match to be recorded. These can be altered when you set Tool 4 to run. For all runs, the settings are recorded in the name of the newly created output folder, e.g. the results of a run on May 21st 2021 started at 1.30 pm will be stored in this folder: 2021-05-21_13:15/ . Where can I find further information about Tool 4? Tool 4 was developed in collaboration between Amy Baldwin and Matt Bull. It utilises the prodigal gene prediction software, ncbi's blast+ , samtools , bbmap and seqtk . Further information about these tools can be found by following the links above.","title":"FAQs"},{"location":"faq.html#frequently-asked-questions","text":"","title":"Frequently asked questions"},{"location":"faq.html#description-of-the-output-files","text":"The output files are named *.candidate_unique.fa . Where * is the isolate\u2019s \u2018friendlyName\u2019, originally defined in the Core index file. There is one file per isolate, subject to identification of unique stretches. If no unique ORFs re identified then no output file will be returned. The contents of the output files will be in fasta format as follows: >contig ID of longest unique ORF DNA sequence >contig ID of second longest unique ORF DNA sequence ... >contig ID of tenth longest unique ORF DNA sequence","title":"Description of the output files:"},{"location":"faq.html#what-are-the-different-folders-for","text":"The Tool 4 file system contains the following folders: Directory name Description of contents input_tool4 All assemblies ( *.fasta ) in this directory will be tested by tool_4. output_tool4 Your output data will be deposited here in subdirectories named YYYY-MM-DD_HH:MM . work The Nextflow working directory.","title":"What are the different folders for?"},{"location":"faq.html#how-do-you-run-tool-4","text":"Running Tool 4 is straight-forward. Briefly, once you have accessed Tool 4 and placed the assemblies you wish to test into the input folder all you need to do is enter a single command and the results will be deposited in the output folder. You can use these to design primers.","title":"How do you run Tool 4?"},{"location":"faq.html#how-do-you-view-the-output-files","text":"You can open the files in any text editor.","title":"How do you view the output files?"},{"location":"faq.html#can-i-change-the-settings-of-tool-4","text":"Yes, you can modify the two different settings: identity and eValue . Using the default settings there must be a minimum DNA identity of 80%, and a minimum DNA coverage of 80% for a match to be recorded. These can be altered when you set Tool 4 to run. For all runs, the settings are recorded in the name of the newly created output folder, e.g. the results of a run on May 21st 2021 started at 1.30 pm will be stored in this folder: 2021-05-21_13:15/ .","title":"Can I change the settings of Tool 4?"},{"location":"faq.html#where-can-i-find-further-information-about-tool-4","text":"Tool 4 was developed in collaboration between Amy Baldwin and Matt Bull. It utilises the prodigal gene prediction software, ncbi's blast+ , samtools , bbmap and seqtk . Further information about these tools can be found by following the links above.","title":"Where can I find further information about Tool 4?"},{"location":"loading.html","text":"Loading your query genomes Tool 4 queries all genomes inside the input folder, input_tool4 . The genome assemblies can be found in LIBRARY . They are in .fasta format. Copy the files for the genomes you wish to screen from the LIBRARY folder to input_tool4 . Tip Tool 4 will analyse ALL files in the input directory; delete any files from the input directory that you do not want to analyse.","title":"Loading query genomes"},{"location":"loading.html#loading-your-query-genomes","text":"Tool 4 queries all genomes inside the input folder, input_tool4 . The genome assemblies can be found in LIBRARY . They are in .fasta format. Copy the files for the genomes you wish to screen from the LIBRARY folder to input_tool4 . Tip Tool 4 will analyse ALL files in the input directory; delete any files from the input directory that you do not want to analyse.","title":"Loading your query genomes"},{"location":"options.html","text":"Additional settings Tool 4 has four parameters you can modify. To modify stringency use identity and/or eValue . To alter where the Tool looks for the input and output data use . Modifying the search settings Tool 4 has two additional settings that you can change: identity and eValue in the command line. Identity is used to specify the minimum DNA identity (default 90 ). eValue is used to specifiy the minimum DNA eValue (default 1e-8 ). You can specify these settings using: --identity 'yy' --eValue 'zz' The command will look like this: nextflow run tool_4.nf --identity 'yy' --eValue 'zz' Substitute yy +/ zz with the actual parameter you wish to use. For example, nextflow run tool_4.nf --identity '80' --eValue '1e-7' Specifying different a input folders and/or reference library Additionally, in the command line you can also specify an alternative input directory, and a alternative reference library. Term Default --query \u2018mmm\u2019 vol-genomics/genome_tools/Tool_4/input_tool4/* --backgroundGenomesDir \u2018nnn\u2019 vol-genomics/genome_tools/reference_libraries/XXXXXXX Example To deposit your output in a new subdirectory named 2022-04-29 use: nextflow run tool_4.nf --output '/vol-genomics/genome_tools/Tool_4/output_tool4/2022-04-29' Tip If you are running the same script with altered parammeters you can add -resume to your command. The analysis will be quicker since it will use cached data. In this case it will used cached data for the first two steps ( predictORFs and makeBLASTDatabase ).","title":"Customisation"},{"location":"options.html#additional-settings","text":"Tool 4 has four parameters you can modify. To modify stringency use identity and/or eValue . To alter where the Tool looks for the input and output data use .","title":"Additional settings"},{"location":"options.html#modifying-the-search-settings","text":"Tool 4 has two additional settings that you can change: identity and eValue in the command line. Identity is used to specify the minimum DNA identity (default 90 ). eValue is used to specifiy the minimum DNA eValue (default 1e-8 ). You can specify these settings using: --identity 'yy' --eValue 'zz' The command will look like this: nextflow run tool_4.nf --identity 'yy' --eValue 'zz' Substitute yy +/ zz with the actual parameter you wish to use. For example, nextflow run tool_4.nf --identity '80' --eValue '1e-7'","title":"Modifying the search settings"},{"location":"options.html#specifying-different-a-input-folders-andor-reference-library","text":"Additionally, in the command line you can also specify an alternative input directory, and a alternative reference library. Term Default --query \u2018mmm\u2019 vol-genomics/genome_tools/Tool_4/input_tool4/* --backgroundGenomesDir \u2018nnn\u2019 vol-genomics/genome_tools/reference_libraries/XXXXXXX Example To deposit your output in a new subdirectory named 2022-04-29 use: nextflow run tool_4.nf --output '/vol-genomics/genome_tools/Tool_4/output_tool4/2022-04-29' Tip If you are running the same script with altered parammeters you can add -resume to your command. The analysis will be quicker since it will use cached data. In this case it will used cached data for the first two steps ( predictORFs and makeBLASTDatabase ).","title":"Specifying different a input folders and/or reference library"},{"location":"primers.html","text":"Designing diagnostic primers Tool 4 output description Subject to positive identification, the ten longest unique portions of an isolate\u2019s genome are deposited in the output file ( *.candidate_unique.fa ). While these stretch are unique when compared with the reference library and the other subject isolates, it may still be possible that these stretches do appear in other organisms that were not included in the analysis. It is important to bear this in mind when designing diagnostic primers. It is also worth considering the context of the unique portion when selecting which portion use for primer design. Will the site of the primers be stable? NCBI Primer BLAST To design diagnostic primers NCBI\u2019s Primer-BLAST tool is suggested. This will also check primer pair specificity. Specify the \u2018nr\u2019 database. You can also specify the organism(s) that you wish to check for specificity, for example, \u2018bacteria (taxid:2)\u2019, or \u2018Lactobacillales (taxid:186826)\u2019 or \u2018Lactobacillus (taxid:1578)\u2019. Information NCBI\u2019s Primer-BLAST tool uses primer3 to design PCR primers and then uses BLAST and global alignment algorithm to screen primers against user-selected database in order to avoid primer pairs (all combinations including forward-reverse primer pair, forward-forward as well as reverse-reverse pairs) that can cause non-specific amplifications.","title":"Designing primers"},{"location":"primers.html#designing-diagnostic-primers","text":"","title":"Designing diagnostic primers"},{"location":"primers.html#tool-4-output-description","text":"Subject to positive identification, the ten longest unique portions of an isolate\u2019s genome are deposited in the output file ( *.candidate_unique.fa ). While these stretch are unique when compared with the reference library and the other subject isolates, it may still be possible that these stretches do appear in other organisms that were not included in the analysis. It is important to bear this in mind when designing diagnostic primers. It is also worth considering the context of the unique portion when selecting which portion use for primer design. Will the site of the primers be stable?","title":"Tool 4 output description"},{"location":"primers.html#ncbi-primer-blast","text":"To design diagnostic primers NCBI\u2019s Primer-BLAST tool is suggested. This will also check primer pair specificity. Specify the \u2018nr\u2019 database. You can also specify the organism(s) that you wish to check for specificity, for example, \u2018bacteria (taxid:2)\u2019, or \u2018Lactobacillales (taxid:186826)\u2019 or \u2018Lactobacillus (taxid:1578)\u2019. Information NCBI\u2019s Primer-BLAST tool uses primer3 to design PCR primers and then uses BLAST and global alignment algorithm to screen primers against user-selected database in order to avoid primer pairs (all combinations including forward-reverse primer pair, forward-forward as well as reverse-reverse pairs) that can cause non-specific amplifications.","title":"NCBI Primer BLAST"},{"location":"quick.html","text":"Quick start commands Set up a stable connection: tmux new -s <name> To run Tool 4: nextflow run tool_4.nf Options Term Description Default --identity 'ppp' minimum DNA %identity 90 --eValue 'qqq' minimum DNA eValue 1e-8 --query 'mmm' location of query genomes $baseDir/input_tool4/* --backgroundGenomesDir 'nnn' location of background genomes ../reference_libraries/tool4_fasta_YYYY-MM-DD Example nextflow run tool_4.nf \u2013-identity '96' --eValue '1e-15' Tip To view the Quick start instructions from the command line use: nextflow run tool_4.nf --help","title":"Quick start"},{"location":"quick.html#quick-start-commands","text":"Set up a stable connection: tmux new -s <name> To run Tool 4: nextflow run tool_4.nf","title":"Quick start commands"},{"location":"quick.html#options","text":"Term Description Default --identity 'ppp' minimum DNA %identity 90 --eValue 'qqq' minimum DNA eValue 1e-8 --query 'mmm' location of query genomes $baseDir/input_tool4/* --backgroundGenomesDir 'nnn' location of background genomes ../reference_libraries/tool4_fasta_YYYY-MM-DD Example nextflow run tool_4.nf \u2013-identity '96' --eValue '1e-15' Tip To view the Quick start instructions from the command line use: nextflow run tool_4.nf --help","title":"Options"},{"location":"running.html","text":"Running Tool 4 In order to run Tool 4 you need to enter two commands in the Terminal window. First enter this command: cd ~/genome_tools/Tool_4 Then enter this command: nextflow run tool_4.nf","title":"Initiating Tool 4"},{"location":"running.html#running-tool-4","text":"In order to run Tool 4 you need to enter two commands in the Terminal window. First enter this command: cd ~/genome_tools/Tool_4 Then enter this command: nextflow run tool_4.nf","title":"Running Tool 4"},{"location":"troubleshooting.html","text":"Troubleshooting These are some common remedies: It is (usually) safer to copy and paste commands To avoid spellling error use the \u2018tab\u2019 key to auto-complete Do the hyphens or inverted commas need to be re-typed? Are the spaces in the correct place? Is the command prompt in the correct directory (folder)? Is the login connection still active Is the input file named correctly? Never use {} or [] in file names. If these fail, ask for help.","title":"Troubleshooting"},{"location":"troubleshooting.html#troubleshooting","text":"These are some common remedies: It is (usually) safer to copy and paste commands To avoid spellling error use the \u2018tab\u2019 key to auto-complete Do the hyphens or inverted commas need to be re-typed? Are the spaces in the correct place? Is the command prompt in the correct directory (folder)? Is the login connection still active Is the input file named correctly? Never use {} or [] in file names. If these fail, ask for help.","title":"Troubleshooting"},{"location":"unloading.html","text":"Downloading the output files To transfer the files to your personal computer drag and drop. Each time Tool 4 runs a new folder is made inside the output folder, output_tool4 : ~/genome_tools/Tool_4/output_tool4/YYYY-MM-DD_HH:MM/ Output folders are named according to the date and time the run was initiated. Information The files are in .fasta format and can be opened in a text editor.","title":"Downloading Tool 4 outputs"},{"location":"unloading.html#downloading-the-output-files","text":"To transfer the files to your personal computer drag and drop. Each time Tool 4 runs a new folder is made inside the output folder, output_tool4 : ~/genome_tools/Tool_4/output_tool4/YYYY-MM-DD_HH:MM/ Output folders are named according to the date and time the run was initiated. Information The files are in .fasta format and can be opened in a text editor.","title":"Downloading the output files"}]}